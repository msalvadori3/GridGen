

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2D Airfoil Grid Results Summary &#8212; GridGen  documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Evaluation Cases" href="../testcases.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../testcases.html" title="Evaluation Cases"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">GridGen  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../testcases.html" accesskey="U">Evaluation Cases</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2D Airfoil Grid Results Summary</a><ul>
<li><a class="reference internal" href="#grid-1-algebraic-grid-with-non-clustered-points-in-y">Grid #1: Algebraic grid with non-clustered points in y</a></li>
<li><a class="reference internal" href="#grid-2-algebraic-grid-with-clustered-points-in-y">Grid #2: Algebraic grid with clustered points in y</a></li>
<li><a class="reference internal" href="#grid-3-elliptic-grid-with-clustered-points-in-y-no-control-terms">Grid #3: Elliptic grid with clustered points in y &amp; no control terms</a></li>
<li><a class="reference internal" href="#grid-4-elliptic-grid-with-clustered-points-in-y-control-terms">Grid #4: Elliptic grid with clustered points in y &amp; control terms</a></li>
<li><a class="reference internal" href="#grid-5-improved-elliptic-grid">Grid #5: Improved elliptic grid</a></li>
<li><a class="reference internal" href="#residual-convergence">Residual Convergence</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../testcases.html"
                        title="previous chapter">Evaluation Cases</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cases/grid_af.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="d-airfoil-grid-results-summary">
<h1>2D Airfoil Grid Results Summary<a class="headerlink" href="#d-airfoil-grid-results-summary" title="Permalink to this headline">¶</a></h1>
<div class="section" id="grid-1-algebraic-grid-with-non-clustered-points-in-y">
<h2>Grid #1: Algebraic grid with non-clustered points in y<a class="headerlink" href="#grid-1-algebraic-grid-with-non-clustered-points-in-y" title="Permalink to this headline">¶</a></h2>
<p>The figure below shows the grid points alignments made by the GridGen code with algebraic grid and uniform grid spacing assumptions at every boundary edges. The interior points were generated by applying linear interpolation based on two opposed pre-specified grid points. Thus the current grid has almost straight lines but with normally inclined angles, which makes a little skewed cells in the leading edge of the air foil. Also we can find a sudden change in cell volume across two grid lines in leading and trailing edges of the airfoil.</p>
<div class="align-center figure" id="id1">
<img alt="alternate text" src="../_images/grid1.png" style="width: 548.1px; height: 238.0px;" />
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">:Grid points alignment of Grid #1</span></p>
</div>
<p>The more quantitative analysis is available with grid Jacobian contour on the current mesh. The ‘Jacobian’ here is inherently defined as determinant of inverse grid Jacobian matrix at every single grid point. Thus, it indicates a grid cell volume in 3D and cell area in 2D.</p>
<div class="align-center figure" id="id2">
<img alt="alternate text" src="../_images/jacobian1.png" style="width: 548.8px; height: 276.5px;" />
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">:Inverse Grid Jacobian distribution of Grid #1</span></p>
</div>
</div>
<div class="section" id="grid-2-algebraic-grid-with-clustered-points-in-y">
<h2>Grid #2: Algebraic grid with clustered points in y<a class="headerlink" href="#grid-2-algebraic-grid-with-clustered-points-in-y" title="Permalink to this headline">¶</a></h2>
<p>This grid is based on the same approach for Grid #1. The only change in this grid was to apply gradually clustered grid points downward at left and right boundaries. Note that the linear interpolation of <span class="math">\(x\)</span>-coordinates along the each vertical line is made only on the basis of j-index as formulated earlier. The effect of this is to make x coordinate shifting along the vertical line is identical for every point. Thus it leads to the somewhat much shifting for concentrated grid points in <span class="math">\(y\)</span>-direction. Now we can observe non-linear grid lines in j-direction. This makes grid less skewer in the leading edge of the airfoil.</p>
<div class="align-center figure" id="id3">
<img alt="alterante text" src="../_images/grid2.png" style="width: 543.9px; height: 234.5px;" />
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">:Grid points alignment of Grid #2</span></p>
</div>
<p>The grid Jacobian contour is shown below. Applying grid stretching along the <span class="math">\(y\)</span> direction gives big cell volume distribution. Change in volume along the bottom edge looks less significant even in the leading edge. Since, however, the grid spacing is not changed in <span class="math">\(x\)</span> direction from Grid #1 alignment, we could expect some error in flux throught the cell face at leading edge. The same situation happens at the trailing point of the airfoil. In some points, this grid alignment is more reliable for this geometry because the significantly high gradient of flow velocity will only take place in the leading edge and therfeore we need more dense grid points in this region.</p>
<div class="align-center figure" id="id4">
<img alt="alternate text" src="../_images/jacobian2.png" style="width: 543.9px; height: 277.2px;" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">:Inverse Grid Jacobian distribution of Grid #2</span></p>
</div>
</div>
<div class="section" id="grid-3-elliptic-grid-with-clustered-points-in-y-no-control-terms">
<h2>Grid #3: Elliptic grid with clustered points in y &amp; no control terms<a class="headerlink" href="#grid-3-elliptic-grid-with-clustered-points-in-y-no-control-terms" title="Permalink to this headline">¶</a></h2>
<p>The grid shown below is made by the elliptic Poisson equations with clustered grid points in vertical direction. As expected, the Poisson equation with no control terms draws grid alignments that resemble iso-stream lines and iso-potential lines around the airfoil body. This is because the set of Poisson equation is exactly the same as a set of stream function and potention function when the control terms are ignored.</p>
<div class="align-center figure" id="id5">
<img alt="alternate text" src="../_images/grid3.png" style="width: 546.7px; height: 238.0px;" />
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">:Grid points alignment of Grid #3</span></p>
</div>
<p>However, it is expected that curved lines right at the inlet edge and outlet edge are not aligned with the inlet flow. This misaligment could cause issues in the flux evaluation of flow properties across the j-constant lines and thus it would make numerical errors. From the grid Jacobian contour result, sudden change in cell volume along the flow direction can be found. Maximum and minimum cell volume are found at left and right top edge and bottom edge, respectively.</p>
<div class="align-center figure" id="id6">
<img alt="alternate text" src="../_images/jacobian3.png" style="width: 543.2px; height: 277.2px;" />
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">:Inverse Grid Jacobian distribution of Grid #3</span></p>
</div>
</div>
<div class="section" id="grid-4-elliptic-grid-with-clustered-points-in-y-control-terms">
<h2>Grid #4: Elliptic grid with clustered points in y &amp; control terms<a class="headerlink" href="#grid-4-elliptic-grid-with-clustered-points-in-y-control-terms" title="Permalink to this headline">¶</a></h2>
<p>The problem that arise in Grid #3 case was able to be resolved by adding control terms in the Poisson equation. From the mesh shape of Grid #4 shown below, it can be found that adding control terms plays an important role in improving grid orthogonality. Thus now we have better grid aligment especially along the flow stream lines that can be expected intuitively. Even though there is a significant change in grid size along the vertical line, it may not act as a critical issue for numerical accuracy because the flux in vertical direction will not be critical.</p>
<div class="align-center figure" id="id7">
<img alt="alternate text" src="../_images/grid4.png" style="width: 547.4px; height: 240.1px;" />
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">:Grid points alignment of Grid #4</span></p>
</div>
<p>In this grid, we can find a severely skewed cell in the leading edge of airfoil. This is more severe than Grid #3. Making orthogonality for the vertical lines cause more vertically stand i-constant lines, hence it leads to the sharp angle between airfoil arc and i-constant line anchored at the leading edge.</p>
<div class="align-center figure" id="id8">
<img alt="alternate text" src="../_images/jacobian4.png" style="width: 543.2px; height: 276.5px;" />
<p class="caption"><span class="caption-number">Fig. 8 </span><span class="caption-text">: Inverse Grid Jacobian distribution of Grid #4</span></p>
</div>
<div class="align-center figure" id="id9">
<img alt="alternate text" src="../_images/jacobian4_zoom.png" style="width: 543.2px; height: 227.5px;" />
<p class="caption"><span class="caption-number">Fig. 9 </span><span class="caption-text">: Zoomed Inverse Grid Jacobian distribution of Grid #4 over airfoil surface</span></p>
</div>
</div>
<div class="section" id="grid-5-improved-elliptic-grid">
<h2>Grid #5: Improved elliptic grid<a class="headerlink" href="#grid-5-improved-elliptic-grid" title="Permalink to this headline">¶</a></h2>
<p>Based on the above grid results we can conclude that the best grid quality is Grid#4. Although Grid#4 shows promixing results, the following issues are still to be resolved:</p>
<ol class="arabic simple">
<li>At both the leading edge and trailing edge of the airfoil there is still some sudden variation in the cell size.</li>
<li>Large variation in skeweness of the grid is observed when control terms are applied.</li>
</ol>
<p>To handle the above problems the following approach is implemented:</p>
<ol class="arabic simple">
<li>Maintain the grid stretched along the y direction with the same Cy.</li>
<li>Provide smooth cell size transition along the segments FE,ED, and DC by employing testing varying values of Cy.</li>
<li>Provide new Cy parameters for stretching in Psi and Phi</li>
</ol>
<p>The following values of Cy were chosen for the best grid quality:</p>
<table border="1" class="docutils">
<colgroup>
<col width="69%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Cy</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Stretching along y</td>
<td>2.0</td>
</tr>
<tr class="row-odd"><td>Stretching along FE</td>
<td>-1.0</td>
</tr>
<tr class="row-even"><td>Stretching along ED</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>Stretching along DC</td>
<td>0.001</td>
</tr>
<tr class="row-even"><td>Stretching in Phi</td>
<td>-11.0</td>
</tr>
<tr class="row-odd"><td>Stretching in Psi</td>
<td>0.001</td>
</tr>
</tbody>
</table>
<p>According to the above table a stretching method was applied to the bottom segment of the grid in order to improve the smoothness of the cell variation in area. This adjustment in the values of Cy allowed to increase the number of grid points near the leading edge and trailing edge of the airfoilf as we expect to obtain greater variation in flow properties along this section of the flow field.
A note must be made regarding the segment AB. This portion of the grid was left uniform as we do not expect to have large variation in flow properties in such region of the grid.</p>
<p>Furthermore, stretching for <span class="math">\(\phi\)</span> and <span class="math">\(\psi\)</span> was applied in order to improve the grid alingment along the surface of the airfoil. A negative value for <span class="math">\(\psi\)</span>  reduces the skewness of nearby cells at the leading and trailing edge. Below the <span class="math">\(\psi\)</span>  field is compared between the original grid with constant Cy and the new improved grid.</p>
<table border="1" class="borderless docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ul class="first last simple">
<li>Initial Grid ‘cy = 0.001’</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Grid 5 Psi Field</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><img alt="../_images/psi1.png" class="first last" src="../_images/psi1.png" style="width: 90%;" />
</td>
<td><img alt="../_images/psi5.png" class="first last" src="../_images/psi5.png" style="width: 90%;" />
</td>
</tr>
</tbody>
</table>
<p>After completion, the overall improved grid and inverse Jacobian are presented below:</p>
<div class="align-center figure" id="id10">
<img alt="alternate text" src="../_images/grid5.png" style="width: 545.3px; height: 234.5px;" />
<p class="caption"><span class="caption-number">Fig. 10 </span><span class="caption-text">:Grid #5</span></p>
</div>
<div class="align-center figure" id="id11">
<img alt="alternate text" src="../_images/jacobian5.png" style="width: 544.6px; height: 273.0px;" />
<p class="caption"><span class="caption-number">Fig. 11 </span><span class="caption-text">:Inverse Grid Jacobian distribution of Grid #5</span></p>
</div>
<p>As shown from the inverse of the Jacobian, most of the smalle area cells are located along the surface of the airfoil where the flow prperties significantly change.</p>
</div>
<div class="section" id="residual-convergence">
<h2>Residual Convergence<a class="headerlink" href="#residual-convergence" title="Permalink to this headline">¶</a></h2>
<p>The residual is one of the most fundamental measures of an iterative solution’s converence, as it directly quantifies the error in the solution. The image below show the RMS residual for the last three grids generated through this code.</p>
<div class="align-center figure" id="id12">
<img alt="alternate text" src="../_images/RMSlog.png" style="width: 560.0px; height: 350.0px;" />
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text">:RMS Residual</span></p>
</div>
<p>It can be noted that as we apply the control terms for the elliptical grid generation, the number of iterations required for the RMS residual to approach the desired limit is reduced.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../testcases.html" title="Evaluation Cases"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">GridGen  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../testcases.html" >Evaluation Cases</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Marc Salvadori.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.1.
    </div>
  </body>
</html>